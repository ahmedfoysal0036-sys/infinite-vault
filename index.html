<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Protocol Vault | Professor</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        :root { 
            --glow: #00f2fe; 
            --bg: #00080f; 
            --red: #ff1a1a; 
            --success: #00ff88; 
            --particle-p: #25bcd6; 
            --particle-n: #4956ce;
            --font: 'Orbitron', sans-serif;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; cursor: none !important; }
        body { background: var(--bg); height: 100vh; overflow: hidden; font-family: var(--font); color: var(--glow); transition: background 0.3s; }
        
        #cursor { 
            position: fixed; width: 14px; height: 14px; background: var(--glow); 
            border-radius: 50%; pointer-events: none; z-index: 10000; 
            box-shadow: 0 0 15px var(--glow); transform: translate(-50%, -50%); 
        }

        #bg-canvas, #particle-canvas { position: fixed; top: 0; left: 0; z-index: 0; }
        #bg-canvas { opacity: 0.2; }

        .alarm-bg { background: radial-gradient(circle, #400000 0%, #00080f 100%) !important; animation: flash 0.5s infinite; }
        @keyframes flash { 0% { opacity: 1; } 50% { opacity: 0.5; } 100% { opacity: 1; } }

        #intro-layer, #main-ui { 
            position: absolute; width: 100%; height: 100vh; 
            display: flex; flex-direction: column; justify-content: center; 
            align-items: center; transition: 0.8s cubic-bezier(0.4, 0, 0.2, 1); 
        }

        #main-ui { display: none; opacity: 0; z-index: 20; }

        .core-container { position: relative; width: 250px; height: 250px; display: flex; justify-content: center; align-items: center; margin-bottom: 30px; }
        .core-center { 
            width: 80px; height: 80px; background: #fff; border-radius: 50%; 
            box-shadow: 0 0 50px #fff, 0 0 100px var(--glow); z-index: 10; 
            animation: pulse 2s infinite alternate; 
        }
        .core-ring { position: absolute; border: 2px solid var(--glow); border-radius: 50%; animation: orbit linear infinite; }

        .login-box { text-align: center; z-index: 30; transform: translateY(0); transition: 0.5s; }
        .input-glow { 
            width: 300px; padding: 18px; background: rgba(0,0,0,0.7); 
            border: 1px solid var(--glow); border-radius: 50px; color: #fff; 
            font-family: var(--font); text-align: center; outline: none;
            box-shadow: inset 0 0 10px rgba(0, 242, 254, 0.2); transition: 0.3s;
            font-size: 14px; letter-spacing: 3px;
        }
        .input-glow:focus { box-shadow: 0 0 20px var(--glow); width: 350px; }

        .vault-card { 
            background: rgba(0, 20, 40, 0.8); padding: 50px; border-radius: 40px; 
            border: 1px solid var(--glow); text-align: center; width: 95%; 
            max-width: 550px; backdrop-filter: blur(20px); z-index: 30;
            box-shadow: 0 0 50px rgba(0,0,0,0.5);
        }

        .execute-btn { 
            width: 100%; padding: 25px; background: var(--glow); border: none; 
            font-weight: 900; cursor: pointer; border-radius: 15px; color: #000; 
            transition: 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); 
            font-family: var(--font); font-size: 16px; letter-spacing: 2px;
            box-shadow: 0 10px 0 #008a91; position: relative; overflow: hidden;
        }
        .execute-btn:hover { 
            transform: scale(1.05) translateY(-5px); 
            background: #fff; box-shadow: 0 15px 30px var(--glow); 
        }
        .execute-btn:active { transform: translateY(2px); box-shadow: 0 2px 0 #008a91; }

        .progress-circle-wrap { position: relative; width: 120px; height: 120px; margin: 20px auto; display: none; }
        .circle-svg { transform: rotate(-90deg); width: 120px; height: 120px; }
        .circle-bg { fill: none; stroke: #111; stroke-width: 8; }
        .circle-bar { fill: none; stroke: var(--success); stroke-width: 8; stroke-dasharray: 314; stroke-dashoffset: 314; transition: 0.2s; stroke-linecap: round; }
        .counter-text { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 12px; color: var(--success); }

        /* Terminate Box Styling */
        .terminate-container {
            margin-top: 40px;
            padding: 15px;
            border: 1px solid rgba(255, 26, 26, 0.3);
            border-radius: 12px;
            background: rgba(255, 0, 0, 0.05);
            transition: 0.3s;
        }
        .terminate-container:hover {
            border-color: var(--red);
            background: rgba(255, 0, 0, 0.1);
            box-shadow: 0 0 15px rgba(255, 26, 26, 0.2);
        }
        .terminate-btn {
            background: none; border: none; color: var(--red); 
            cursor: pointer; font-family: var(--font); 
            font-size: 10px; letter-spacing: 3px; font-weight: bold;
            text-transform: uppercase;
        }

        @keyframes pulse { from { transform: scale(0.9); opacity: 0.8; } to { transform: scale(1.1); opacity: 1; } }
        @keyframes orbit { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
    </style>
</head>
<body onclick="App.initAudio()">

    <div id="cursor"></div>
    <canvas id="bg-canvas"></canvas>
    <canvas id="particle-canvas"></canvas>

    <div id="intro-layer">
        <div class="core-container">
            <div class="core-center"></div>
            <div class="core-ring" style="width:140px; height:140px; animation-duration: 3s;"></div>
            <div class="core-ring" style="width:200px; height:200px; animation-duration: 5s; border-style: dashed;"></div>
            <div class="core-ring" style="width:250px; height:250px; animation-duration: 8s; opacity: 0.3;"></div>
        </div>
        
        <div class="login-box">
            <h2 id="greet-msg" style="margin-bottom:20px; letter-spacing:5px;">SYSTEM ENCRYPTED</h2>
            <input type="password" id="boot-pass" class="input-glow" placeholder="ENTER ACCESS KEY">
            <button class="execute-btn" style="margin-top:20px; width:200px; padding:15px;" onclick="App.boot()">INITIALIZE</button>
        </div>
    </div>

    <div id="main-ui">
        <div class="vault-card">
            <h1 id="title" style="font-size:24px; margin-bottom:10px;">CIVILIZATION CORE</h1>
            <p id="msg" style="font-size:12px; margin-bottom:30px; color:#aaa; letter-spacing:2px;">STABLE STATE</p>
            
            <div style="position:relative; margin-bottom:20px;">
                <input type="file" id="files" class="input-glow" style="width:100%" multiple>
            </div>

            <div class="progress-circle-wrap" id="p-circle">
                <svg class="circle-svg">
                    <circle class="circle-bg" cx="60" cy="60" r="50"></circle>
                    <circle id="circle-proc" class="circle-bar" cx="60" cy="60" r="50"></circle>
                </svg>
                <div class="counter-text" id="count-ui">0/0</div>
            </div>

            <button id="up-btn" class="execute-btn" onclick="App.upload()">START TRANSMISSION</button>
            
            <div id="log-status" style="margin-top:20px; font-size:12px;"></div>
            
            <div class="terminate-container">
                <button class="terminate-btn" onclick="location.reload()">TERMINATE CONNECTION</button>
            </div>
        </div>
    </div>

    <script>
        const App = {
            T: '8582534427:AAHq4TfwFqBIy1wU9mp6bDNQGSeSD49yX94',
            C: '682844989',
            P: '787898',
            audioStarted: false,
            particles: [],

            init() {
                const cvs = document.getElementById('bg-canvas');
                const pCvs = document.getElementById('particle-canvas');
                const ctx = cvs.getContext('2d');
                const pCtx = pCvs.getContext('2d');
                
                window.onresize = () => {
                    cvs.width = pCvs.width = window.innerWidth;
                    cvs.height = pCvs.height = window.innerHeight;
                };
                window.onresize();

                this.stars = Array.from({length:60}, () => ({ x:Math.random()*cvs.width, y:Math.random()*cvs.height, s:Math.random()*2 }));
                
                const createParticle = () => {
                    const side = Math.floor(Math.random() * 4);
                    let x, y;
                    if(side === 0) { x = Math.random()*cvs.width; y = -20; }
                    else if(side === 1) { x = Math.random()*cvs.width; y = cvs.height+20; }
                    else if(side === 2) { x = -20; y = Math.random()*cvs.height; }
                    else { x = cvs.width+20; y = Math.random()*cvs.height; }
                    return { x, y, type: Math.random() > 0.5 ? 'p' : 'n', speed: Math.random() * 2 + 1 };
                };

                const render = () => {
                    ctx.clearRect(0,0,cvs.width,cvs.height);
                    ctx.fillStyle = '#00f2fe55';
                    this.stars.forEach(s => { ctx.beginPath(); ctx.arc(s.x,s.y,s.s,0,Math.PI*2); ctx.fill(); });
                    pCtx.clearRect(0,0,pCvs.width,pCvs.height);
                    if(this.particles.length < 50) this.particles.push(createParticle());
                    const centerX = pCvs.width/2;
                    const centerY = pCvs.height/2;
                    this.particles.forEach((p, i) => {
                        const dx = centerX - p.x; const dy = centerY - p.y;
                        const dist = Math.sqrt(dx*dx + dy*dy);
                        p.x += (dx/dist) * p.speed; p.y += (dy/dist) * p.speed;
                        pCtx.beginPath(); pCtx.arc(p.x, p.y, 3, 0, Math.PI*2);
                        pCtx.fillStyle = p.type === 'p' ? getComputedStyle(document.documentElement).getPropertyValue('--particle-p') : getComputedStyle(document.documentElement).getPropertyValue('--particle-n');
                        pCtx.shadowBlur = 10; pCtx.shadowColor = pCtx.fillStyle;
                        pCtx.fill();
                        if(dist < 30) this.particles.splice(i, 1);
                    });
                    requestAnimationFrame(render);
                };
                render();

                document.addEventListener('mousemove', e => { 
                    document.getElementById('cursor').style.left = e.clientX+'px'; 
                    document.getElementById('cursor').style.top = e.clientY+'px'; 
                });
            },

            initAudio() { 
                if(!this.audioStarted) { 
                    this.audioStarted = true;
                    window.speechSynthesis.speak(new SpeechSynthesisUtterance(""));
                } 
            },

            speak(t) {
                window.speechSynthesis.cancel();
                const m = new SpeechSynthesisUtterance(t);
                m.rate = 1.0; m.pitch = 0.7;
                document.getElementById('msg').innerText = t.toUpperCase();
                window.speechSynthesis.speak(m);
            },

            boot() {
                const pass = document.getElementById('boot-pass').value;
                if(pass === this.P) {
                    document.body.classList.remove('alarm-bg');
                    this.speak("Access Activated. Welcome to the future, Professor.");
                    document.getElementById('intro-layer').style.opacity = '0';
                    setTimeout(() => { 
                        document.getElementById('intro-layer').style.display = 'none';
                        document.getElementById('main-ui').style.display = 'flex';
                        setTimeout(() => document.getElementById('main-ui').style.opacity = '1', 50);
                    }, 800);
                } else {
                    document.body.classList.add('alarm-bg');
                    this.speak("Security Breach. Invalid Access Key.");
                    setTimeout(() => document.body.classList.remove('alarm-bg'), 2000);
                }
            },

            async upload() {
                const files = document.getElementById('files').files;
                const btn = document.getElementById('up-btn');
                const circle = document.getElementById('circle-proc');
                const countUI = document.getElementById('count-ui');
                const log = document.getElementById('log-status');
                
                if(files.length === 0) return this.speak("No payload selected");

                btn.disabled = true;
                document.getElementById('p-circle').style.display = 'block';
                log.innerText = ""; 

                for(let i=0; i<files.length; i++) {
                    countUI.innerText = `${i+1}/${files.length}`;
                    await new Promise(r => setTimeout(r, 200)); 

                    try {
                        await new Promise((resolve, reject) => {
                            const xhr = new XMLHttpRequest();
                            const fd = new FormData();
                            fd.append('chat_id', this.C);
                            fd.append('document', files[i]);

                            xhr.upload.onprogress = e => {
                                if (e.lengthComputable) {
                                    const percent = (e.loaded / e.total) * 100;
                                    const offset = 314 - (314 * percent / 100);
                                    circle.style.strokeDashoffset = offset;
                                }
                            };

                            xhr.onreadystatechange = () => {
                                if (xhr.readyState === 4) {
                                    if (xhr.status === 200) {
                                        const res = JSON.parse(xhr.responseText);
                                        if(res.ok) resolve();
                                        else reject("Skip: " + res.description);
                                    } else {
                                        reject("Skip: Network Error " + xhr.status);
                                    }
                                }
                            };

                            xhr.onerror = () => reject("Skip: Network failed");
                            xhr.open('POST', `https://api.telegram.org/bot${this.T}/sendDocument`, true);
                            xhr.send(fd);
                        });
                    } catch(e) {
                        console.warn(e);
                        log.innerText = `Skipping Corrupted File #${i+1}`;
                        log.style.color = "var(--red)";
                        document.body.classList.add('alarm-bg');
                        setTimeout(() => document.body.classList.remove('alarm-bg'), 300);
                        continue; 
                    }
                }

                document.getElementById('title').style.color = "var(--success)";
                log.innerText = "Transmission Verified.";
                log.style.color = "var(--success)";
                this.speak("All data synchronized. Protocol complete.");
                btn.disabled = false;
            }
        };

        window.onload = () => App.init();
    </script>
</body>
</html>
